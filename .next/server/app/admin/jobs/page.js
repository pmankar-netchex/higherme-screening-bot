(()=>{var e={};e.id=712,e.ids=[712],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4954:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(1518),s(1506),s(5866);var r=s(3191),a=s(8716),n=s(7922),l=s.n(n),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["admin",{children:["jobs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1518)),"/Users/pranavmankar/Documents/Workspace/Vapi demo/app/admin/jobs/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/pranavmankar/Documents/Workspace/Vapi demo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/pranavmankar/Documents/Workspace/Vapi demo/app/admin/jobs/page.tsx"],m="/admin/jobs/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/jobs/page",pathname:"/admin/jobs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2636:(e,t,s)=>{Promise.resolve().then(s.bind(s,3265))},8441:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8431:()=>{},3265:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(326),a=s(7577),n=s(434);function l({job:e,onSubmit:t,onCancel:s}){let[n,l]=(0,a.useState)({title:"",department:"",description:"",requirements:[""],responsibilities:[""],shiftTypes:[],weekendRequired:!1,hourlyRate:"",status:"active"}),i=e=>{let{name:t,value:s}=e.target;l(e=>({...e,[t]:s}))},o=e=>{let{value:t,checked:s}=e.target;l(e=>({...e,shiftTypes:s?[...e.shiftTypes||[],t]:(e.shiftTypes||[]).filter(e=>e!==t)}))},d=(e,t,s)=>{let r=[...n[e]||[]];r[t]=s,l(t=>({...t,[e]:r}))},c=e=>{l(t=>({...t,[e]:[...t[e]||[],""]}))},m=(e,t)=>{let s=[...n[e]||[]];s.splice(t,1),l(t=>({...t,[e]:s.length?s:[""]}))};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({...n,requirements:n.requirements?.filter(e=>""!==e.trim())||[],responsibilities:n.responsibilities?.filter(e=>""!==e.trim())||[]})},className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e?"Edit Job":"Create New Job"}),r.jsx("p",{className:"text-gray-600",children:e?"Update the job information below":"Fill in the job details below to create a new job posting."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"col-span-1",children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title*"}),r.jsx("input",{id:"title",name:"title",type:"text",value:n.title,onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Restaurant Manager"})]}),(0,r.jsxs)("div",{className:"col-span-1",children:[r.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department*"}),r.jsx("input",{id:"department",name:"department",type:"text",value:n.department,onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Front of House"})]}),(0,r.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Description*"}),r.jsx("textarea",{id:"description",name:"description",rows:5,value:n.description,onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide a detailed description of the job..."})]}),(0,r.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements*"}),n.requirements?.map((e,t)=>r.jsxs("div",{className:"flex mb-2",children:[r.jsx("input",{type:"text",value:e,onChange:e=>d("requirements",t,e.target.value),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 2+ years of restaurant experience"}),r.jsx("button",{type:"button",onClick:()=>m("requirements",t),className:"ml-2 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},`req-${t}`)),(0,r.jsxs)("button",{type:"button",onClick:()=>c("requirements"),className:"mt-1 px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Requirement"]})]}),(0,r.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsibilities*"}),n.responsibilities?.map((e,t)=>r.jsxs("div",{className:"flex mb-2",children:[r.jsx("input",{type:"text",value:e,onChange:e=>d("responsibilities",t,e.target.value),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Manage daily restaurant operations"}),r.jsx("button",{type:"button",onClick:()=>m("responsibilities",t),className:"ml-2 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},`resp-${t}`)),(0,r.jsxs)("button",{type:"button",onClick:()=>c("responsibilities"),className:"mt-1 px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Responsibility"]})]}),(0,r.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift Types*"}),r.jsx("div",{className:"flex flex-wrap gap-4",children:["Morning","Afternoon","Evening","Night","Split","On-Call"].map(e=>(0,r.jsxs)("label",{className:"inline-flex items-center",children:[r.jsx("input",{type:"checkbox",name:"shiftTypes",value:e,checked:(n.shiftTypes||[]).includes(e),onChange:o,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-gray-700",children:e})]},e))}),n.shiftTypes?.length===0&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Please select at least one shift type"})]}),r.jsx("div",{className:"col-span-1",children:(0,r.jsxs)("label",{className:"inline-flex items-center",children:[r.jsx("input",{type:"checkbox",name:"weekendRequired",checked:n.weekendRequired,onChange:e=>{let{name:t,checked:s}=e.target;l(e=>({...e,[t]:s}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-gray-700",children:"Weekend Availability Required"})]})}),(0,r.jsxs)("div",{className:"col-span-1",children:[r.jsx("label",{htmlFor:"hourlyRate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate*"}),r.jsx("input",{id:"hourlyRate",name:"hourlyRate",type:"text",value:n.hourlyRate,onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., $15-20/hr or DOE"})]}),(0,r.jsxs)("div",{className:"col-span-1",children:[r.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status*"}),(0,r.jsxs)("select",{id:"status",name:"status",value:n.status,onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"filled",children:"Filled"})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e?"Update Job":"Create Job"})]})]})}function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),[p,h]=(0,a.useState)(!0),[b,g]=(0,a.useState)("createdAt"),[f,j]=(0,a.useState)("desc"),[y,v]=(0,a.useState)("all"),N=async e=>{try{let s=await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to create job");let r=await s.json();t(e=>[r,...e]),i(!1)}catch(e){console.error("Failed to create job:",e)}},w=async e=>{if(o)try{let s=await fetch("/api/jobs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,id:o.id})});if(!s.ok)throw Error("Failed to update job");let r=await s.json();t(e=>e.map(e=>e.id===o.id?r:e)),d(null),i(!1)}catch(e){console.error("Failed to update job:",e)}},k=e=>{d(e),i(!0)},C=async()=>{if(u)try{if(!(await fetch(`/api/jobs?id=${u}`,{method:"DELETE"})).ok)throw Error("Failed to delete job");t(e=>e.filter(e=>e.id!==u)),x(null),m(!1)}catch(e){console.error("Failed to delete job:",e)}},P=e=>{x(e),m(!0)},q=async e=>{o?await w(e):await N(e)},A=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"filled":return"bg-blue-100 text-blue-800"}},L=e=>{b===e?j("asc"===f?"desc":"asc"):(g(e),j("asc"))},S=e.filter(e=>"all"===y||e.status===y).sort((e,t)=>{let s=0;return"createdAt"===b?s=new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():"title"===b||"department"===b?s=e[b].localeCompare(t[b]):"status"===b&&(s=e.status.localeCompare(t.status)),"asc"===f?s:-s});return r.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx(n.default,{href:"/admin",className:"text-blue-600 hover:text-blue-800 mb-4 inline-block",children:"← Back to Admin Panel"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Job Listings Management"}),r.jsx("p",{className:"text-gray-600",children:"Create, edit, and manage job postings for your restaurant."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[r.jsx("div",{children:(0,r.jsxs)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Job"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),(0,r.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All Jobs"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"filled",children:"Filled"})]})]})]}),s&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"max-w-4xl w-full",children:r.jsx(l,{job:o||void 0,onSubmit:q,onCancel:()=>{i(!1),d(null)}})})}),c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Confirm Deletion"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Are you sure you want to delete this job? This action cannot be undone."}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Delete"})]})]})}),p?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Loading jobs..."})]}):S.length>0?r.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>L("title"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["Job Title","title"===b&&r.jsx("span",{className:"ml-1",children:"asc"===f?"↑":"↓"})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>L("department"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["Department","department"===b&&r.jsx("span",{className:"ml-1",children:"asc"===f?"↑":"↓"})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>L("status"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["Status","status"===b&&r.jsx("span",{className:"ml-1",children:"asc"===f?"↑":"↓"})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>L("createdAt"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["Created","createdAt"===b&&r.jsx("span",{className:"ml-1",children:"asc"===f?"↑":"↓"})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.title}),r.jsx("div",{className:"text-sm text-gray-500",children:e.hourlyRate})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.department}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:()=>k(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>P(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}):(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No jobs found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"all"!==y?`No ${y} jobs found. Try changing the filter or create a new job.`:"Get started by creating a new job posting."}),r.jsx("div",{className:"mt-6",children:(0,r.jsxs)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center mx-auto",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Job"]})})]})]})})}},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(9404),a=s.n(r)},1518:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/pranavmankar/Documents/Workspace/Vapi demo/app/admin/jobs/page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var r=s(9510),a=s(5384),n=s.n(a);s(7272);let l={title:"Restaurant Recruitment Platform",description:"AI-powered recruitment platform for restaurant hiring"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:e})})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,892,404],()=>s(4954));module.exports=r})();