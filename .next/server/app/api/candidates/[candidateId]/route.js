"use strict";(()=>{var e={};e.id=706,e.ids=[706],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},4131:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>S,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>x,staticGenerationAsyncStorage:()=>f});var n={};r.r(n),r.d(n,{GET:()=>u,PATCH:()=>c});var a=r(9303),i=r(8716),o=r(670),d=r(7070),s=r(5709);async function u(e,{params:t}){try{let e=t.candidateId;if(!e)return d.NextResponse.json({error:"Candidate ID is required"},{status:400});let r=(0,s.Zb)(e);if(!r)return d.NextResponse.json({error:"Candidate not found"},{status:404});return d.NextResponse.json(r)}catch(e){return console.error("Error fetching candidate:",e),d.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(e,{params:t}){try{let r=t.candidateId,n=await e.json();if(!(0,s.Zb)(r))return d.NextResponse.json({error:"Candidate not found"},{status:404});let a=["recruiterNotes","status"],i={};Object.keys(n).forEach(e=>{a.includes(e)&&(i[e]=n[e])});let o=(0,s.og)(r,i);return d.NextResponse.json({success:!0,data:o})}catch(e){return console.error("Error updating candidate:",e),d.NextResponse.json({error:"Failed to update candidate"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/candidates/[candidateId]/route",pathname:"/api/candidates/[candidateId]",filename:"route",bundlePath:"app/api/candidates/[candidateId]/route"},resolvedPagePath:"/Users/pranavmankar/Documents/Workspace/Vapi demo/app/api/candidates/[candidateId]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:f,serverHooks:x}=p,g="/api/candidates/[candidateId]/route";function S(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:f})}},5709:(e,t,r)=>{r.d(t,{Zb:()=>f,l0:()=>g,m$:()=>x,nf:()=>l,og:()=>S});var n=r(2048),a=r.n(n),i=r(5315),o=r.n(i);let d=o().join(process.cwd(),"data"),s=o().join(d,"candidates.json");function u(){a().existsSync(d)||a().mkdirSync(d,{recursive:!0})}function c(){if(u(),!a().existsSync(s))return a().writeFileSync(s,JSON.stringify([])),[];try{let e=a().readFileSync(s,"utf-8");return JSON.parse(e)}catch(e){return console.error("Error reading candidates file:",e),[]}}function p(e){try{u(),a().writeFileSync(s,JSON.stringify(e,null,2))}catch(e){throw console.error("Error writing candidates file:",e),e}}function l(e,t,r){let n=c(),a=n.findIndex(t=>t.id===e);return -1===a?(console.error(`Candidate with ID ${e} not found`),null):(n[a]={...n[a],screeningSummary:t,screeningId:r,updatedAt:new Date().toISOString()},p(n),n[a])}function f(e){return c().find(t=>t.id===e)||null}function x(){return c()}function g(e){let t=c(),r={id:`candidate-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e};return t.push(r),p(t),r}function S(e,t){let r=c(),n=r.findIndex(t=>t.id===e);return -1===n?null:(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},p(r),r[n])}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,972],()=>r(4131));module.exports=n})();