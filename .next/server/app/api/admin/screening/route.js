"use strict";(()=>{var e={};e.id=628,e.ids=[628],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},8556:(e,t,i)=>{i.r(t),i.d(t,{originalPathname:()=>j,patchFetch:()=>N,requestAsyncStorage:()=>S,routeModule:()=>x,serverHooks:()=>b,staticGenerationAsyncStorage:()=>k});var n={};i.r(n),i.d(n,{DELETE:()=>w,GET:()=>f,POST:()=>h,PUT:()=>v});var r=i(9303),s=i(8716),o=i(670),a=i(7070),c=i(2048),u=i.n(c),l=i(5315),d=i.n(l);let p=d().join(process.cwd(),"data","config.json"),g=()=>{let e=d().dirname(p);u().existsSync(e)||u().mkdirSync(e,{recursive:!0}),u().existsSync(p)||u().writeFileSync(p,JSON.stringify({roles:{server:{name:"Server",department:"Front of House",screeningQuestions:["Do you have previous serving experience?","How comfortable are you handling cash transactions?","Can you describe your customer service experience?"],evaluationCriteria:{experience:{weight:.3,description:"Previous restaurant or service experience"},availability:{weight:.4,description:"Flexibility with shifts and weekend work"},softSkills:{weight:.3,description:"Communication skills and customer service attitude"}}},cook:{name:"Cook",department:"Kitchen",screeningQuestions:["What kitchen experience do you have?","Are you comfortable working in a fast-paced kitchen environment?","Do you have any food safety certifications?"],evaluationCriteria:{experience:{weight:.5,description:"Kitchen and cooking experience"},availability:{weight:.3,description:"Shift flexibility and weekend availability"},softSkills:{weight:.2,description:"Teamwork and ability to work under pressure"}}},host:{name:"Host/Hostess",department:"Front of House",screeningQuestions:["What customer service experience do you have?","How do you handle stressful situations with customers?","Are you comfortable using computer systems for reservations?"],evaluationCriteria:{experience:{weight:.2,description:"Customer service or hospitality experience"},availability:{weight:.4,description:"Evening and weekend availability"},softSkills:{weight:.4,description:"Professional demeanor and communication skills"}}},manager:{name:"Manager",department:"Management",screeningQuestions:["What experience do you have managing restaurant staff?","How do you handle scheduling and staff conflicts?","What strategies do you use to improve customer satisfaction?"],evaluationCriteria:{experience:{weight:.5,description:"Previous management experience"},availability:{weight:.2,description:"Scheduling flexibility"},softSkills:{weight:.3,description:"Leadership and communication skills"}}},general:{name:"General Staff",department:"General",screeningQuestions:["What restaurant experience do you have?","What are your strengths in a fast-paced work environment?","How would you contribute to a positive team atmosphere?"],evaluationCriteria:{experience:{weight:.3,description:"Previous relevant experience"},availability:{weight:.4,description:"Schedule flexibility"},softSkills:{weight:.3,description:"Teamwork and adaptability"}}}},mandatoryQuestions:["Are you available to work morning shifts (6 AM - 2 PM)?","Are you available to work evening shifts (2 PM - 10 PM)?","Can you work weekends?","Do you have reliable transportation to get to work?"],vapiSettings:{voice:{provider:"playht",voiceId:"jennifer"},model:{provider:"openai",model:"gpt-4"},transcriber:{provider:"deepgram",model:"nova-2",language:"en-US"},conversationTone:"friendly and professional",maxCallDuration:180},applicationSettings:{maxResumeSize:"5MB",allowedFileTypes:["pdf"],autoAdvanceToScreening:!0}},null,2),"utf8")},y=()=>(g(),JSON.parse(u().readFileSync(p,"utf8"))),m=e=>{g(),u().writeFileSync(p,JSON.stringify(e,null,2),"utf8")};async function f(){try{let e=y();return a.NextResponse.json(e)}catch(e){return console.error("Error getting screening configuration:",e),new a.NextResponse(JSON.stringify({error:"Failed to get screening configuration"}),{status:500,headers:{"content-type":"application/json"}})}}async function h(e){try{let{roleType:t,roleConfig:i,action:n}=await e.json();if(!t||!i)return new a.NextResponse(JSON.stringify({error:"Missing required fields"}),{status:400,headers:{"content-type":"application/json"}});let r=y();return r.roles[t]=i,m(r),a.NextResponse.json({success:!0,message:`Role ${t} ${"add"===n?"added":"updated"} successfully`})}catch(e){return console.error("Error updating role configuration:",e),new a.NextResponse(JSON.stringify({error:"Failed to update role configuration"}),{status:500,headers:{"content-type":"application/json"}})}}async function v(e){try{let t=await e.json(),i=y(),n="Settings updated successfully";return t.vapiSettings&&(i.vapiSettings={...i.vapiSettings,...t.vapiSettings},n="Voice settings updated successfully"),Array.isArray(t.mandatoryQuestions)&&(i.mandatoryQuestions=t.mandatoryQuestions,n="Mandatory questions updated successfully"),m(i),a.NextResponse.json({success:!0,message:n})}catch(e){return console.error("Error updating screening settings:",e),new a.NextResponse(JSON.stringify({error:"Failed to update settings"}),{status:500,headers:{"content-type":"application/json"}})}}async function w(e){try{let{roleType:t}=await e.json();if(!t)return new a.NextResponse(JSON.stringify({error:"Missing required fields"}),{status:400,headers:{"content-type":"application/json"}});let i=y();return i.roles[t]&&(delete i.roles[t],m(i)),a.NextResponse.json({success:!0,message:`Role ${t} deleted successfully`})}catch(e){return console.error("Error deleting role configuration:",e),new a.NextResponse(JSON.stringify({error:"Failed to delete role configuration"}),{status:500,headers:{"content-type":"application/json"}})}}let x=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/screening/route",pathname:"/api/admin/screening",filename:"route",bundlePath:"app/api/admin/screening/route"},resolvedPagePath:"/Users/pranavmankar/Documents/Workspace/Vapi demo/app/api/admin/screening/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:S,staticGenerationAsyncStorage:k,serverHooks:b}=x,j="/api/admin/screening/route";function N(){return(0,o.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:k})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[276,972],()=>i(8556));module.exports=n})();