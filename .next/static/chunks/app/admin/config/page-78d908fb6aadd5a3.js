(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{4230:function(e,t,n){Promise.resolve().then(n.bind(n,6077)),Promise.resolve().then(n.t.bind(n,2972,23))},6077:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var s=n(7437),i=n(2265),r=n(1652),a=n.n(r),l=n(9376),o=n(12);function c(e){let{onBackupComplete:t,onRestoreComplete:n}=e,[r,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(null),[u,g]=(0,i.useState)(null),[x,h]=(0,i.useState)(null),p=async()=>{a(!0),g(null),h(null);try{let e=await fetch("/api/admin/config/backup");if(!e.ok)throw Error("Error: ".concat(e.status));let n=await e.json(),s=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=new Date().toISOString().split("T")[0];(0,o.saveAs)(s,"restaurant-recruitment-config-".concat(i,".json")),h("Configuration backup downloaded successfully."),t&&t()}catch(e){console.error("Backup failed:",e),g("Failed to backup configuration. Please try again.")}finally{a(!1)}},f=async()=>{if(!d){g("Please select a configuration file to restore");return}c(!0),g(null),h(null);try{let e;let t=await b(d);try{e=JSON.parse(t)}catch(e){throw Error("Invalid configuration file format")}let s=await fetch("/api/admin/config/restore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to restore configuration")}h("Configuration restored successfully!"),m(null);let i=document.getElementById("configFile");i&&(i.value=""),n&&n()}catch(e){console.error("Restore failed:",e),g(e.message||"Failed to restore configuration. Please try again.")}finally{c(!1)}},b=e=>new Promise((t,n)=>{let s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=()=>{n(Error("Failed to read file"))},s.readAsText(e)});return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Configuration Backup & Restore"}),u&&(0,s.jsx)("div",{className:"bg-red-50 text-red-800 p-3 rounded-md mb-4",children:u}),x&&(0,s.jsx)("div",{className:"bg-green-50 text-green-800 p-3 rounded-md mb-4",children:x}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium mb-3",children:"Backup Configuration"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Download your current configuration settings as a JSON file. You can use this file later to restore your settings."}),(0,s.jsx)("button",{onClick:p,disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:bg-blue-300 flex items-center",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Backup"]})})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium mb-3",children:"Restore Configuration"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Restore your settings from a previously downloaded configuration file."}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Configuration File"}),(0,s.jsx)("input",{id:"configFile",type:"file",accept:".json",onChange:e=>{let t=e.target.files;t&&t.length>0&&(m(t[0]),g(null))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),(0,s.jsx)("button",{onClick:f,disabled:l||!d,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:bg-green-300 flex items-center",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Restoring..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Restore Configuration"]})})]})]}),(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t text-sm text-gray-500",children:[(0,s.jsxs)("p",{className:"flex items-center mb-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,s.jsx)("strong",{children:"Important:"})," Restoring a configuration will overwrite all current settings."]}),(0,s.jsx)("p",{className:"ml-6",children:"Make sure to backup your current configuration before restoring."})]})]})}let d={applicationSettings:{allowOpenApplications:!0,requireScreening:!0,autoScheduleScreening:!1,notifyRecruitersOnNewApplication:!0},screeningSettings:{defaultScreeningDuration:20,recordCalls:!0,generateSummary:!0,sendCandidateFollowup:!0},recruitmentSettings:{hiringWorkflowSteps:["Application Submission","Resume Screening","Phone Screening","Hiring Manager Review","Interview","Offer / Rejection"],notificationEmails:["recruiters@restaurant.com","hiring@restaurant.com"],defaultApplicationDeadlineDays:14},notificationTemplates:{applicationReceived:"Dear {{candidateName}},\n\nThank you for applying to the {{position}} position at our restaurant. We have received your application and will review it shortly.\n\nBest regards,\nThe Recruitment Team",screeningInvitation:"Dear {{candidateName}},\n\nWe would like to invite you to complete a brief AI screening call for the {{position}} position. Please click the link below to schedule your screening.\n\n{{screeningLink}}\n\nBest regards,\nThe Recruitment Team",screeningComplete:"Dear {{candidateName}},\n\nThank you for completing the screening call for the {{position}} position. Our team will review your responses and get back to you soon.\n\nBest regards,\nThe Recruitment Team",interviewInvitation:"Dear {{candidateName}},\n\nWe would like to invite you for an interview for the {{position}} position. Please choose a suitable time from the available slots.\n\n{{interviewLink}}\n\nBest regards,\nThe Recruitment Team",offerLetter:"Dear {{candidateName}},\n\nWe are pleased to offer you the {{position}} position at our restaurant. Please find the details of our offer below:\n\n{{offerDetails}}\n\nBest regards,\nThe Recruitment Team",rejectionEmail:"Dear {{candidateName}},\n\nThank you for your interest in the {{position}} position. After careful consideration, we have decided to pursue other candidates whose qualifications better match our needs at this time.\n\nWe appreciate your interest in our company and wish you success in your job search.\n\nBest regards,\nThe Recruitment Team"}};function m(){let e=(0,l.useSearchParams)(),[t,n]=(0,i.useState)(d),[r,o]=(0,i.useState)(d),[m,u]=(0,i.useState)(!1),[g,x]=(0,i.useState)("application"),[h,p]=(0,i.useState)(null),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)(""),[N,v]=(0,i.useState)(null),[w,S]=(0,i.useState)("");(0,i.useEffect)(()=>{let t=e.get("tab");t&&["application","screening","recruitment","notifications"].includes(t)&&x(t)},[e]),(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/admin/config");if(!e.ok)throw Error("Failed to fetch config");let t=await e.json();n(t),o(t)}catch(e){console.error("Error loading config:",e),n(d),o(d)}})()},[]);let k=!a()(t,r),C=async()=>{u(!0);try{let e=await fetch("/api/admin/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("Failed to save config");await e.json(),o(JSON.parse(JSON.stringify(t))),p({type:"success",message:"Configuration saved successfully!"}),setTimeout(()=>p(null),3e3)}catch(e){console.error("Error saving config:",e),p({type:"error",message:"Failed to save configuration. Please try again."})}finally{u(!1)}},A=(e,t,s)=>{n(n=>({...n,[e]:{...n[e],[t]:s}}))},F=(e,t,s)=>{let i=parseInt(s,10)||0;n(n=>({...n,[e]:{...n[e],[t]:i}}))},T=e=>{n(t=>({...t,recruitmentSettings:{...t.recruitmentSettings,notificationEmails:t.recruitmentSettings.notificationEmails.filter(t=>t!==e)}}))},R=e=>{n(t=>({...t,recruitmentSettings:{...t.recruitmentSettings,hiringWorkflowSteps:t.recruitmentSettings.hiringWorkflowSteps.filter(t=>t!==e)}}))},D=(e,s)=>{if("up"===s&&0===e||"down"===s&&e===t.recruitmentSettings.hiringWorkflowSteps.length-1)return;let i=[...t.recruitmentSettings.hiringWorkflowSteps],r="up"===s?e-1:e+1;[i[e],i[r]]=[i[r],i[e]],n(e=>({...e,recruitmentSettings:{...e.recruitmentSettings,hiringWorkflowSteps:i}}))},L=(e,t)=>{n(n=>({...n,notificationTemplates:{...n.notificationTemplates,[e]:t}}))},O=e=>e.replace(/([A-Z])/g," $1").trim().replace(/^./,e=>e.toUpperCase()),E=e=>{let n=t.notificationTemplates[e],s=function(e){let t={candidateName:"John Smith",position:"Head Chef"};switch(e){case"screeningInvitation":return{...t,screeningLink:"https://restaurant.example/screening/abc123"};case"interviewInvitation":return{...t,interviewLink:"https://restaurant.example/interview/abc123"};case"offerLetter":return{...t,offerDetails:"Position: Head Chef\nSalary: $65,000 per year\nStart Date: January 15, 2023\nLocation: Downtown Branch\nSchedule: Tuesday to Saturday, 2pm - 10pm"};default:return t}}(e);v(e),S(n.replace(/\{\{([^}]+)\}\}/g,(e,t)=>void 0!==s[t]?s[t]:e))};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b",children:(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"System Configuration"})}),(0,s.jsx)("div",{className:"border-b",children:(0,s.jsxs)("div",{className:"px-6 flex",children:[(0,s.jsx)("button",{className:"px-4 py-2 font-medium text-sm border-b-2 focus:outline-none ".concat("application"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>x("application"),children:"Application Settings"}),(0,s.jsx)("button",{className:"px-4 py-2 font-medium text-sm border-b-2 focus:outline-none ".concat("screening"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>x("screening"),children:"Screening Settings"}),(0,s.jsx)("button",{className:"px-4 py-2 font-medium text-sm border-b-2 focus:outline-none ".concat("recruitment"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>x("recruitment"),children:"Recruitment Settings"}),(0,s.jsx)("button",{className:"px-4 py-2 font-medium text-sm border-b-2 focus:outline-none ".concat("notifications"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>x("notifications"),children:"Notification Templates"})]})}),(0,s.jsxs)("div",{className:"p-6",children:[h&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded ".concat("success"===h.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:h.message}),"application"===g&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Application Process Configuration"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"allowOpenApplications",type:"checkbox",checked:t.applicationSettings.allowOpenApplications,onChange:e=>A("applicationSettings","allowOpenApplications",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"allowOpenApplications",className:"font-medium text-gray-700",children:"Allow Open Applications"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Candidates can apply without a specific job posting"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"requireScreening",type:"checkbox",checked:t.applicationSettings.requireScreening,onChange:e=>A("applicationSettings","requireScreening",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"requireScreening",className:"font-medium text-gray-700",children:"Require AI Screening"}),(0,s.jsx)("p",{className:"text-gray-500",children:"All candidates must complete an AI screening call"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"autoScheduleScreening",type:"checkbox",checked:t.applicationSettings.autoScheduleScreening,onChange:e=>A("applicationSettings","autoScheduleScreening",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"autoScheduleScreening",className:"font-medium text-gray-700",children:"Auto-Schedule Screening"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Automatically schedule screening call after application submission"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"notifyRecruitersOnNewApplication",type:"checkbox",checked:t.applicationSettings.notifyRecruitersOnNewApplication,onChange:e=>A("applicationSettings","notifyRecruitersOnNewApplication",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"notifyRecruitersOnNewApplication",className:"font-medium text-gray-700",children:"Notify Recruiters"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Send email notification to recruiters for new applications"})]})]})]})]})}),"screening"===g&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"AI Screening Configuration"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"defaultScreeningDuration",className:"block text-sm font-medium text-gray-700",children:"Default Screening Duration (minutes)"}),(0,s.jsx)("input",{type:"number",id:"defaultScreeningDuration",min:"5",max:"60",value:t.screeningSettings.defaultScreeningDuration,onChange:e=>F("screeningSettings","defaultScreeningDuration",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"recordCalls",type:"checkbox",checked:t.screeningSettings.recordCalls,onChange:e=>A("screeningSettings","recordCalls",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"recordCalls",className:"font-medium text-gray-700",children:"Record Screening Calls"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Save recordings of AI screening calls for later review"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"generateSummary",type:"checkbox",checked:t.screeningSettings.generateSummary,onChange:e=>A("screeningSettings","generateSummary",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"generateSummary",className:"font-medium text-gray-700",children:"Generate AI Summary"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Create automated summary and evaluation after screening"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"sendCandidateFollowup",type:"checkbox",checked:t.screeningSettings.sendCandidateFollowup,onChange:e=>A("screeningSettings","sendCandidateFollowup",e.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"sendCandidateFollowup",className:"font-medium text-gray-700",children:"Send Candidate Follow-up"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Automatically send thank you email after screening completion"})]})]})]})]})}),"recruitment"===g&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Hiring Workflow Steps"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"Configure the steps in your hiring workflow"}),(0,s.jsxs)("div",{className:"mt-2 mb-4",children:[(0,s.jsx)("label",{htmlFor:"workflowStep",className:"sr-only",children:"New workflow step"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{type:"text",id:"workflowStep",value:y,onChange:e=>j(e.target.value),placeholder:"New workflow step",className:"block w-full rounded-l-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,s.jsx)("button",{type:"button",onClick:()=>{y&&(n(e=>({...e,recruitmentSettings:{...e.recruitmentSettings,hiringWorkflowSteps:[...e.recruitmentSettings.hiringWorkflowSteps,y]}})),j(""))},className:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add"})]})]}),(0,s.jsx)("ul",{className:"divide-y divide-gray-200 border rounded-md",children:t.recruitmentSettings.hiringWorkflowSteps.map((e,n)=>(0,s.jsxs)("li",{className:"flex items-center justify-between px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 text-blue-800 text-xs font-medium mr-3",children:n+1}),(0,s.jsx)("span",{className:"text-gray-900",children:e})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>D(n,"up"),disabled:0===n,className:"p-1 rounded-md ".concat(0===n?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-100"),children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>D(n,"down"),disabled:n===t.recruitmentSettings.hiringWorkflowSteps.length-1,className:"p-1 rounded-md ".concat(n===t.recruitmentSettings.hiringWorkflowSteps.length-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-100"),children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>R(e),className:"p-1 rounded-md text-red-500 hover:bg-gray-100",children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},n))})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Settings"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"notificationEmails",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Recipients"}),(0,s.jsx)("div",{className:"mt-2 mb-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{type:"email",id:"notificationEmail",value:f,onChange:e=>b(e.target.value),placeholder:"Email address",className:"block w-full rounded-l-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,s.jsx)("button",{type:"button",onClick:()=>{f&&f.includes("@")&&(n(e=>({...e,recruitmentSettings:{...e.recruitmentSettings,notificationEmails:[...e.recruitmentSettings.notificationEmails,f]}})),b(""))},className:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add"})]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:t.recruitmentSettings.notificationEmails.map(e=>(0,s.jsxs)("div",{className:"inline-flex items-center bg-blue-50 rounded-full px-3 py-1 text-sm",children:[(0,s.jsx)("span",{className:"text-blue-800 mr-1",children:e}),(0,s.jsx)("button",{type:"button",onClick:()=>T(e),className:"text-blue-400 hover:text-blue-600 focus:outline-none",children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e))})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("label",{htmlFor:"defaultApplicationDeadlineDays",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Application Deadline (days)"}),(0,s.jsx)("input",{type:"number",id:"defaultApplicationDeadlineDays",min:"1",value:t.recruitmentSettings.defaultApplicationDeadlineDays,onChange:e=>F("recruitmentSettings","defaultApplicationDeadlineDays",e.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),"notifications"===g&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Notification Templates"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Customize email templates sent to candidates at different stages of the recruitment process. Use placeholders like ",(0,s.jsx)("code",{children:"{{candidateName}}"}),", ",(0,s.jsx)("code",{children:"{{position}}"}),", etc. which will be replaced with actual values."]}),(0,s.jsx)("div",{className:"space-y-6 mt-6",children:Object.entries(t.notificationTemplates).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"template-".concat(t),className:"block text-md font-medium text-gray-800 mb-1",children:O(t)}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["applicationReceived"===t&&"Sent when a candidate submits an application","screeningInvitation"===t&&"Sent to invite candidates to schedule a screening call","screeningComplete"===t&&"Sent after candidate completes the AI screening","interviewInvitation"===t&&"Sent to invite candidates for an interview","offerLetter"===t&&"Formal job offer sent to selected candidates","rejectionEmail"===t&&"Sent to candidates who were not selected"]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{id:"template-".concat(t),rows:6,value:n,onChange:e=>L(t,e.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm font-mono"}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)("div",{className:"bg-gray-100 rounded-md p-1 flex space-x-1",children:(0,s.jsx)("button",{type:"button",className:"p-1 rounded hover:bg-gray-200",title:"Reset to default",onClick:()=>L(t,d.notificationTemplates[t]),children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})})})]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("div",{className:"bg-gray-50 rounded p-2",children:[(0,s.jsx)("h5",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Available placeholders:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:"{{candidateName}}"}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:"{{position}}"}),"screeningInvitation"===t&&(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:"{{screeningLink}}"}),"interviewInvitation"===t&&(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:"{{interviewLink}}"}),"offerLetter"===t&&(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:"{{offerDetails}}"})]})]})})]},t)})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Template Preview"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Preview how your templates will look with actual data."}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.keys(t.notificationTemplates).map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>E(e),className:"px-3 py-1.5 text-sm font-medium rounded-md ".concat(N===e?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"),children:O(e)},e))}),N&&(0,s.jsxs)("div",{className:"bg-white border rounded-md p-4",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,s.jsxs)("h4",{className:"font-medium text-gray-800",children:[O(N)," Preview"]})}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[(0,s.jsxs)("div",{className:"mb-2 pb-2 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"To:"})," john.smith@example.com"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Subject:"})," ",O(N)," - Restaurant Name"]})]}),(0,s.jsx)("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:w})]}),(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:(0,s.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Send Test Email"})})]})]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2",children:"Configuration Backup & Restore"}),(0,s.jsx)(c,{onRestoreComplete:()=>{fetchConfig(),x("application")}})]}),(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-end space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{n(JSON.parse(JSON.stringify(r))),p(null)},disabled:!k||m,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(k&&!m?"bg-white hover:bg-gray-50":"bg-gray-100 cursor-not-allowed"),children:"Reset"}),(0,s.jsx)("button",{type:"button",onClick:C,disabled:!k||m,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(k&&!m?"bg-blue-600 hover:bg-blue-700":"bg-blue-300 cursor-not-allowed"),children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})}}},function(e){e.O(0,[972,863,971,117,744],function(){return e(e.s=4230)}),_N_E=e.O()}]);